module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/js/",n(n.s=12)}({12:function(e,t,n){"use strict";n.r(t);const r=new Map;var o={DEFAULT_RECEIVER:{id:Symbol("default_receiver")},on(e,t){const n=r.get(e)||[];n.push(t),r.set(e,n)},un(e,t){const n=r.get(e);if(n){const e=n.indexOf(t);e>=0&&n.splice(e,1)}},send(e,t,n={}){(r.get(e)||[]).forEach(e=>{e(t,n)})},get signals(){return[...r.keys()]}};const l=new Set,i={};var a={add:e=>(l.add(e),e.id&&(i[e.id]=e),o.send("ELEMENT_CREATED",e),e),remove(e){e.layer&&e.remove(),o.send("ELEMENT_DESTROYED",e),e.id&&delete i[e.id],e.$$deleted=!0,l.delete(e)},all:()=>[...l],getElementById:e=>i[e]||null,getElementsByName:e=>[...l].filter(t=>t.name===e)};function d(e,t,n=0){const r=`${t}X`,o=`${t}Y`;(r in e||o in e)&&(e[t]=[null!=e[r]?e[r]:n,null!=e[o]?e[o]:n],delete e[r],delete e[o])}const u=Symbol("frameTimer");var s=function(...e){const t={};return e.forEach(e=>{t[e]=Symbol(e)}),t}("target","offsetX","offsetY","layerX","layerY","altKey","ctrlKey","shiftKey","buttons","key","keyCode","property","oldValue","newValue");const c=new Map;var f={set(e,t,n=null){const r=c.get(e);c.set(e,t),o.send("STORE_PROPERTY_UPDATE",n,{[s.property]:e,[s.oldValue]:r,[s.newValue]:t})},get:e=>c.get(e),delete(e,t=null){const n=c.get(e);c.delete(e),o.send("STORE_PROPERTY_UPDATE",t,{[s.property]:e,[s.oldValue]:n})}};const y=new Map,p=new Audio;var b={canplay:e=>p.canPlayType(e),load(e){"string"==typeof e&&(e={id:e,src:e});let t=y.get(e.id);if(t)return t;const n=new Audio(e.src);return t=new Promise(e=>{n.oncanplaythrough=(()=>{e(n)})}),y.set(e.id,t),t},play(e){this.load(e).then(e=>e.play())}};function m(e,t,n){const r=n.originalEvent||n,{altKey:l,buttons:i,ctrlKey:a,shiftKey:d,key:u,keyCode:c}=r,f={[s.target]:r.target,[s.altKey]:l,[s.ctrlKey]:a,[s.shiftKey]:d};null!=u&&Object.assign(f,{[s.key]:u,[s.keyCode]:c}),null!=i&&Object.assign(f,{[s.buttons]:i}),n.originalEvent&&null!=r.offsetX&&Object.assign(f,{[s.offsetX]:r.offsetX,[s.offsetY]:r.offsetY,[s.layerX]:r.layerX,[s.layerY]:r.layerY}),o.send(e,t,f)}n.d(t,"runtime",function(){return g});const g={Signal:o,Symbols:s,use:function({Scene:e},t={container:"#stage",viewport:"auto",resolution:"flex"}){const{container:n,viewport:r,resolution:l}=t,i=new e(n,{viewport:r,resolution:l});return i.layer("bglayer",{handleEvent:!1}),i.layer("fglayer").on("click",e=>{m("LAYER_CLICKED",i,e)}),document.addEventListener("keydown",e=>{o.send("KEYDOWN",document,e)}),document.addEventListener("keyup",e=>{o.send("KEYUP",document,e)}),this.scene=i,i},dispatchEvent:m,parse_attr:function(e,...t){const n=t.reduce((e,t)=>Object.assign(e,t),{});"texture"in n&&(n.textures=[n.texture],delete n.texture),"fontFamily"in n&&(n.fontFamily=`"${n.fontFamily}"`),d(n,"anchor",0),d(n,"scale",1),d(n,"translate",0),d(n,"skew",0),function(e){if("borderWidth"in e||"borderStyle"in e||"borderColor"in e){const{borderWidth:t,borderStyle:n,borderColor:r}=e;e.border={width:null!=t?t:1,style:null!=n?n:"solid",color:null!=r?r:"#000000"},delete e.borderWidth,delete e.borderStyle,delete e.borderColor}}(n);const r=Object.entries(n).filter(([e,t])=>0===e.indexOf("textureFrame$")&&(delete n[e],!0)).map(e=>e[1]),o=r.length;if(o>0&&!e.$$deleted){let t=0;const n=e[u];n&&clearTimeout(n),e.attr({textures:r[t][0]}),e[u]=setTimeout(function n(){e.attr({textures:r[t][0]}),e.$$deleted||(e[u]=setTimeout(n,1e3*r[t][1])),t=(t+1)%o},1e3*r[t][1]),t=(t+1)%o}return n},get_attr:function(e,t){if("sprite"===e.nodeType||"path"===e.nodeType||"label"===e.nodeType)return/^.*[XY]$/.test(t)?function(e,t){const n=t.slice(-1),r=e.attr(t.slice(0,-1));return"X"===n?r[0]:r[1]}(e,t):"borderWidth"===t?e.attr("border").width:"bordeStyle"===t?e.attr("border").style:"borderColor"===t?e.attr("border").color:e.attr(t)},wait:function(e){return new Promise(t=>{setTimeout(t,e)})},random:function(e,t){return e<t&&([e,t]=[t,e]),Math.floor(Math.random()*(t-e))+e},random_color:function(){return`rgb(${Math.floor(255*Math.random())},${Math.floor(255*Math.random())},${Math.floor(255*Math.random())})`},random_color_hue:function(e,t,n){return`hsla(${Math.floor(360*Math.random())},${e}%,${t}%,${n})`},getCollisions:function(e){const t=e.layer;return t?t.children.filter(t=>t!==e&&t.OBBCollision(e)):[]},ElementList:a,Store:f,Audio:b}}});