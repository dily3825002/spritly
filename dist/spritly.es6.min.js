module.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var _=e[n]={i:n,l:!1,exports:{}};return t[n].call(_.exports,_,_.exports,i),_.l=!0,_.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var _ in t)i.d(n,_,function(e){return t[e]}.bind(null,_));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=15)}([function(t,e){t.exports=require("Blockly")},function(t,e,i){const n=i(0),{Msg:_}=n;_.SPRITE_HUE=330,_.ATTRS_HUE=130,_.ATTRS_SPRITE_HUE=140,_.ATTRS_LABEL_HUE=150,_.ATTRS_PATH_HUE=160,_.EASING_HUE=90,_.ANIMATE_HUE=345,_.SIGNALS_HUE=55,_.LITERAL_HUE=250,_.GETTER_SETTER_HUE=120,_.STORE_HUE=70,_.FLOWS_HUE=220,_.MATH_HUE=270,_.LOG_HUE=310,_.SOUND_HUE=45,_.PROCEDURE_HUE=290},function(t,e,i){const n=i(0),{Msg:_}=n;_.COMMON_FGLAYER="前景图层",_.COMMON_BGLAYER="背景图层",_.COMMON_TARGET="目标元素",_.COMMON_SENDER="发送者",_.COMMON_RECEIVER="接收者",_.COMMON_SPRITE="精灵元素",_.COMMON_LABEL="文本元素",_.COMMON_PATH="矢量元素",_.CATEGORY_SIGNALS="信号",_.CATEGORY_PROCEDURE="过程",_.CATEGORY_SPRITES="元素对象",_.CATEGORY_ATTRIBUTES="元素属性",_.CATEGORY_ATTRIBUTES_COMMON="公共属性",_.CATEGORY_ATTRIBUTES_SPRITE="精灵属性",_.CATEGORY_ATTRIBUTES_LABEL="文本属性",_.CATEGORY_ATTRIBUTES_PATH="矢量属性",_.CATEGORY_ANIM_ASYNC="动画和异步",_.CATEGORY_GETTER_SETTER="属性读写",_.CATEGORY_STORE="共享数据",_.CATEGORY_LITERALS="字面量",_.CATEGORY_LISTS="列表对象",_.CATEGORY_MATH="数学计算",_.CATEGORY_LOGIC="逻辑判断",_.CATEGORY_FLOWS="循环和条件",_.CATEGORY_LOG="日志输出",_.CATEGORY_SOUND="音效",_.SENDER_RECEIVER_TARGET_TOOLTIP="发送者：发送信号的元素。\n接收者：接收信号的元素。\n目标元素：如果信号由事件触发，目标元素是实际事件目标。",_.FGLAYER_BGLAYER_TOOTIP="前景图层接收DOM事件，\n背景图层不接收DOM事件。",_.LITERAL_NULL="空",_.LITERAL_UNDEFINED="未定义",_.NIL_TOOLTIP="%1值。",_.OBJECT_CREATE_TOOLTIP="构造一个对象。",_.LOOP_GET_INDEX_MSG0="索引值",_.LOOP_GET_INDEX_TOOLTIP="循环中的索引值。",_.ATTR_ID="ID",_.ATTR_NAME="名字",_.ATTR_ANCHORX="X向锚",_.ATTR_ANCHORY="Y向锚",_.ATTR_X="X坐标",_.ATTR_Y="Y坐标",_.ATTR_WIDTH="宽",_.ATTR_HEIGHT="高",_.ATTR_BGCOLOR="背景色",_.ATTR_OPACITY="透明度",_.ATTR_SCALEX="X向拉伸",_.ATTR_SCALEY="Y向拉伸",_.ATTR_TRANSLATEX="X向平移",_.ATTR_TRANSLATEY="Y向平移",_.ATTR_SKEWX="X向扭曲",_.ATTR_SKEWY="Y向扭曲",_.ATTR_ROTATE="逆时针旋转",_.ATTR_BORDERRADIUS="圆角半径",_.ATTR_BORDERWIDTH="边框线宽",_.ATTR_BORDERSTYLE="边框样式",_.ATTR_BORDERCOLOR="边框颜色",_.ATTR_DASHOFFSET="虚线框偏移",_.ATTR_TEXTURE="图片纹理",_.ATTR_TEXT="文本",_.ATTR_FONTSIZE="字号",_.ATTR_FONTFAMILY="字体",_.ATTR_FONTSTYLE="字体样式",_.ATTR_FONTVARIANT="字体变体",_.ATTR_FONTWEIGHT="字体粗细",_.ATTR_TEXTALIGN="文本对齐",_.ATTR_LINEHEIGHT="文本行高",_.ATTR_D="SVG路径",_.ATTR_LINEWIDTH="路径线宽",_.ATTR_LINEDASH="路径虚线样式",_.ATTR_LINEDASHOFFSET="路径虚线偏移",_.ATTR_LINECAP="线帽样式",_.ATTR_LINEJOIN="连线样式",_.ATTR_BOUNDING="碰撞边界",_.ATTR_STROKECOLOR="描线颜色",_.ATTR_FILLCOLOR="填充颜色",_.ATTR_CURSOR="鼠标样式",_.ATTR_DRAGGABLE="可拖拽？",_.ATTR_VALUE_YES="是",_.ATTR_VALUE_NO="否",_.ATTR_VALUE_SOLID="实线",_.ATTR_VALUE_DASHED="虚线",_.ATTR_VALUE_NORMAL="常规",_.ATTR_VALUE_BOLD="粗体",_.ATTR_VALUE_LIGHTER="细体",_.ATTR_VALUE_ITALIC="斜体",_.ATTR_VALUE_OBLIQUE="倾斜",_["ATTR_VALUE_SMALL-CAPS"]="小型大写",_.ATTR_VALUE_LEFT="靠左",_.ATTR_VALUE_RIGHT="靠右",_.ATTR_VALUE_CENTER="居中",_.ATTR_VALUE_BUTT="平直",_.ATTR_VALUE_ROUND="圆形",_.ATTR_VALUE_SQUARE="方形",_.ATTR_VALUE_MITER="尖角",_.ATTR_VALUE_BEVEL="斜角",_.ATTR_VALUE_BOX="基于盒子",_.ATTR_VALUE_PATH="基于路径",_.ATTR_VALUE_DEFAULT="默认",_.ATTR_VALUE_CROSSHAIR="十字线",_.ATTR_VALUE_POINTER="手形",_.ATTR_VALUE_MOVE="可被移动",_["ATTR_VALUE_E-RESIZE"]="可右移",_["ATTR_VALUE_NE-RESIZE"]="可右上移",_["ATTR_VALUE_SE-RESIZE"]="可右下移",_["ATTR_VALUE_W-RESIZE"]="可左移",_["ATTR_VALUE_NW-RESIZE"]="可左上移",_["ATTR_VALUE_SW-RESIZE"]="可左下移",_["ATTR_VALUE_N-RESIZE"]="可上移",_["ATTR_VALUE_S-RESIZE"]="可下移",_.ATTR_VALUE_TEXT="文本",_.ATTR_VALUE_WAIT="等待",_.ATTR_VALUE_HELP="帮助",_.AWAIT_MSG0="等待 %1 毫秒 🕙",_.AWAIT_TOOLTIP="等待 %1 毫秒后继续执行后续操作。",_.AWAIT_FRAME_MSG0="等待 %1 更新到下一帧 ⌛",_.AWAIT_FRAME_TOOLTIP="等待图层更新后继续执行后续操作。",_.SPRITE_ANIMATE_MSG0="%1 %2 动画持续 %3 秒",_.SPRITE_ANIMATE_MSG1="起始状态 %1",_.SPRITE_ANIMATE_MSG2="结束状态 %1",_.SPRITE_ANIMATE_MSG3="缓动策略 %1",_.SPRITE_ANIMATE_TOOLTIP="在指定元素上执行动画操作。",_.SPRITE_ANIMATE_OPTION_ASYNC_DEFAULT="⚡️ 立即执行",_.SPRITE_ANIMATE_OPTION_ASYNC_AWAIT="⌛️ 执行并等待",_.EASING_MSG0="%1",_.EASING_OPTION_EASING_EASE="匀速",_.EASING_OPTION_EASING_EASEIN="匀加速",_.EASING_OPTION_EASING_EASEOUT="匀减速",_.EASING_OPTION_EASING_EASEINOUT="先加速后减速",_.EASING_OPTION_TOOLTIP="为动画设置缓动策略。",_.BEZIER_EASING_MSG0="贝塞尔曲线 %1 %2 %3 %4",_.BEZIER_EASING_TOOLTIP="将动画缓动策略设置为贝塞尔曲线。",_.FIELD_ATTR_INC_MSG0="%1 %2",_.FIELD_ATTR_INC_TOOLTIP="在原值基础上改变属性值。",_.KEYVALUE_MSG0="%1: %2,",_.KEYVALUE_TOOLTIP="设置“属性-值”对。",_.FIELD_ATTR_ANCHOR_TOOLTIP="设置元素的%1。",_.FIELD_ATTR_XY_TOOLTIP="设置元素的%1。",_.FIELD_ATTR_SIZE_TOOLTIP="设置元素的%1。",_.FIELD_ATTR_BGCOLOR_TOOLTIP="设置元素的背景色。",_.FIELD_ATTR_OPACITY_TOOLTIP="设置元素的透明度。",_.FIELD_ATTR_ROTATE_TOOLTIP="设置元素的逆时针旋转角度。",_.FIELD_ATTR_SCALE_TOOLTIP="设置元素的%1。",_.FIELD_ATTR_TRANSLATE_TOOLTIP="设置元素的%1。",_.FIELD_ATTR_SKEW_TOOLTIP="设置元素的%1。",_.FIELD_ATTR_BORDERRADIUS_TOOLTIP="设置元素的圆角半径。",_.FIELD_ATTR_BORDERWIDTH_TOOLTIP="设置元素的边框宽度。",_.FIELD_ATTR_BORDERSTYLE_TOOLTIP="设置元素的边框样式。",_.FIELD_ATTR_BORDERCOLOR_TOOLTIP="设置元素的边框颜色。",_.FIELD_ATTR_DASHOFFSET_TOOLTIP="如果元素边框样式为虚线，设置边框虚线的偏移量。",_.FIELD_ATTR_TEXTURE_TOOLTIP="设置精灵元素的图片纹理。",_.FIELD_ATTR_TEXT_TOOLTIP="设置文本元素的内容。",_.FIELD_ATTR_FONTSIZE_TOOLTIP="设置文本元素的字号。",_.FIELD_ATTR_FONTFAMILY_TOOLTIP="设置文本元素的字体。",_.FIELD_ATTR_FONTSTYLE_TOOLTIP="设置文本元素的字体样式。",_.FIELD_ATTR_FONTVARIANT_TOOLTIP="设置文本元素的字体变体。",_.FIELD_ATTR_FONTWEIGHT_TOOLTIP="设置文本元素的字体粗细。",_.FIELD_ATTR_TEXTALIGN_TOOLTIP="设置文本元素的文字对齐方式。",_.FIELD_ATTR_LINEHEIGHT_TOOLTIP="设置文本元素的行高。",_.FIELD_ATTR_D_TOOLTIP="设置矢量元素的SVG路径。",_.FIELD_ATTR_LINEWIDTH_TOOLTIP="设置矢量元素的线宽。",_.FIELD_ATTR_LINEDASH_TOOLTIP="将矢量元素的描线设为虚线。",_.FIELD_ATTR_LINEDASHOFFSET_TOOLTIP="如果矢量元素的描线是虚线，设置虚线偏移量。",_.FIELD_ATTR_LINECAP_TOOLTIP="设置矢量元素的线帽样式。",_.FIELD_ATTR_LINEJOIN_TOOLTIP="设置矢量元素的连线样式。",_.FIELD_ATTR_BOUNDING_TOOLTIP="使用%1的边界方式来检测碰撞。",_.FIELD_ATTR_STROKECOLOR_TOOLTIP="设置一个矢量元素或文本元素的描线颜色。",_.FIELD_ATTR_FILLCOLOR_TOOLTIP="设置一个矢量元素或文本元素的填充颜色。",_.FIELD_ATTR_CURSOR_TOOLTIP="设置光标形状。",_.FIELD_ATTR_DRAGGABLE_TOOLTIP="可拖拽？",_.RANDOM_STRING_MSG0="🎲 随机字符串",_.RANDOM_STRING_TOOLTIP="获得一个11个字符长度的随机字符串。",_.RANDOM_COLOUR_RGB_MSG0="🎲 随机颜色",_.RANDOM_COLOUR_RGB_TOOLTIP="获得一个随机的RGB颜色。",_.RANDOM_COLOUR_HUE_MSG0="🎲 随机色调",_.RANDOM_COLOUR_HUE_MSG1="饱和 %1% 亮 %2% 透明 %3.",_.RANDOM_COLOUR_HUE_TOOLTIP="获得一个随机的HSLA颜色。",_.LOG_OPTION_LOG_LOG="记录",_.LOG_OPTION_LOG_WARN="警告",_.LOG_OPTION_LOG_ERROR="错误",_.LOG_TOOLTIP="输出信息到控制台。",_.LOG_ALERT_MSG0="🔔 弹出 %1",_.LOG_ALERT_TOOLTIP="弹出一个会话框。",_.SIGNAL_DO_MSG0="当收到信号为 %1 🚩 执行",_.SIGNAL_DO_TOOLTIP="当收到指定信号时，执行动作。",_.SIGNAL_DO_OPTION_SIGNAL_START="开始运行",_.SIGNAL_DO_OPTION_SIGNAL_STORE_PROPERTY_UPDATE="共享数据内容更新",_.SIGNAL_DO_OPTION_SIGNAL_LAYER_CLICKED="前景图层被鼠标点击",_.SIGNAL_DO_OPTION_SIGNAL_KEYDOWN="键盘按键按下",_.SIGNAL_DO_OPTION_SIGNAL_KEYUP="键盘按键松开",_.SIGNAL_DO_OPTION_SIGNAL_ELEMENT_CREATED="元素被创建",_.SIGNAL_DO_OPTION_SIGNAL_ELEMENT_DESTROYED="元素被销毁",_.SIGNAL_NEW_SPRITE_AS_RECEIVER_MSG0="收到信号为 %1 🚩 时",_.SIGNAL_NEW_SPRITE_AS_RECEIVER_MSG1="创建 %1 作为接收者",_.SIGNAL_NEW_SPRITE_AS_RECEIVER_MSG2="ID设为 %1",_.SIGNAL_NEW_SPRITE_AS_RECEIVER_TOOLTIP="收到某个信号时，新建一个元素作为接收者并执行动作。",_.SIGNAL_WHEN_RECEIVER_IS_MSG0="收到信号 %1 🚩",_.SIGNAL_WHEN_RECEIVER_IS_MSG1="当接收者为 %1 时",_.SIGNAL_NEW_SPRITE_AS_RECEIVER_TOOLTIP="收到某个信号且接收者为特定元素时，执行动作。",_.GET_DATA_MSG0="消息",_.GET_DATA_TOOLTIP="读取信号消息。",_.GET_DATA_PROP_MSG0="消息的 %1",_.GET_DATA_PROP_TOOLTIP="读取信号的数据属性。如果信号是由事件触发，可读取这些属性。",_.GET_DATA_PROP_TOOLTIP2="读取信号的数据属性。如果信号是存储数据改变，可读取这些属性。",_.GET_DATA_PROP_OPTION_PROP_OFFSETX="相对坐标X",_.GET_DATA_PROP_OPTION_PROP_OFFSETY="相对坐标Y",_.GET_DATA_PROP_OPTION_PROP_LAYERX="绝对坐标X",_.GET_DATA_PROP_OPTION_PROP_LAYERY="绝对坐标Y",_.GET_DATA_PROP_OPTION_PROP_ALTKEY="按下ALT键",_.GET_DATA_PROP_OPTION_PROP_CTRLKEY="按下CTRL键",_.GET_DATA_PROP_OPTION_PROP_SHIFTKEY="按下SHIFT键",_.GET_DATA_PROP_OPTION_PROP_BUTTONS="鼠标按键值",_.GET_DATA_PROP_OPTION_PROP_KEY="键盘按键值",_.GET_DATA_PROP_OPTION_PROP_KEYCODE="键盘按键值编码",_.GET_DATA_PROP_OPTION_PROP_PROPERTY="更新的存储属性",_.GET_DATA_PROP_OPTION_PROP_OLDVALUE="属性原值",_.GET_DATA_PROP_OPTION_PROP_NEWVALUE="属性新值",_.EVENT_IMMEDIATELY="立即",_.EVENT_ONCLICK="被单击",_.EVENT_ONDBLCLICK="被双击",_.EVENT_ONMOUSEDOWN="按下鼠标按键",_.EVENT_ONMOUSEMOVE="鼠标在它内部移动",_.EVENT_ONMOUSEUP="释放鼠标按键",_.EVENT_ONMOUSEENTER="鼠标进入它",_.EVENT_ONMOUSELEAVE="鼠标离开它",_.EVENT_ONTAP="触屏短按",_.EVENT_ONLONGTAP="触屏长按",_.EVENT_ONDRAGGED="被拖拽",_.EVENT_ONDRAGGEDONTO="其它元素拖拽入",_.EVENT_ONCOLLISION="与其他元素碰撞",_.SIGNAL_ONEVENT_SEND_MSG0="%1 %2 发送 %3 🚩",_.SIGNAL_ONEVENT_SEND_MSG1="包含消息 %1",_.SIGNAL_ONEVENT_SEND_TOOLTIP="当事件发生时，发送信号。",_.SPRITE_MSG0_TOOLTIP=`指定元素。\n${_.SENDER_RECEIVER_TARGET_TOOLTIP}`,_.SPRITE_APPEND_TO_MSG0="将 %1 添加到 %2",_.SPRITE_APPEND_TO_TOOLTIP="添加元素到层。",_.SPRITE_ATTRS_MSG0="设置 %1 属性",_.SPRITE_ATTRS_TOOLTIP="设置属性值到元素。",_.SPRITE_CREATE_ATTRS_MSG0="创建 %1",_.SPRITE_CREATE_ATTRS_MSG1="命名为 %1 包含属性",_.SPRITE_CREATE_ATTRS_TOOLTIP="创建一个指定名字的元素。可以使用循环语句创建多个同名元素。",_.SPRITE_EACH_ELEMENTS_NAMED_MSG0="所有名为 %1 的元素",_.SPRITE_EACH_ELEMENTS_NAMED_TOOLTIP="获得指定名字的全部元素。",_.SPRITE_DESTROY_MSG0="💣 销毁 %1",_.SPRITE_DESTROY_TOOLTIP="将元素移除层并销毁。",_.SPRITE_GET_ATTR_MSG0="%1 的 %2",_.SPRITE_GET_ATTR_TOOLTIP="读取目标元素的属性值。",_.MATH_RANDOM_INT_TITLE=`🎲 ${_.MATH_RANDOM_INT_TITLE}`,_.MATH_RANDOM_FLOAT_TITLE_RANDOM=`🎲 ${_.MATH_RANDOM_FLOAT_TITLE_RANDOM}`,_.LIST_FOREACH_MSG0="遍历列表 %1:",_.LIST_FOREACH_MSG1="执行 %1",_.LIST_FOREACH_MSG2="%1 代表每个元素, %2 代表索引",_.LIST_FOREACH_TOOLTIP="遍历列表每个元素，执行动作。",_.LIST_INDEX_TOOLTIP="获取迭代索引。",_.LIST_ITEM_TOOLTIP="获取迭代元素。",_.OBJECT_GET_PROP_MSG0="%1.%2",_.OBJECT_GET_PROP_TOOLTIP="读取对象属性。",_.LISTS_CREATE_RANGE_MSG0="创建列表范围",_.LISTS_CREATE_RANGE_MSG1="从 %1 到 %2",_.LISTS_CREATE_RANGE_TOOLTIP="通过整数范围创建列表。",_.STORE_SET_MSG0="📝 设置 %1 的值为 %2",_.STORE_SET_TOOLTIP="设置共享数据的值。",_.STORE_GET_MSG0="📝 获取 %1 的值",_.STORE_GET_TOOLTIP="获取共享数据的值。",_.STORE_DELETE_MSG0="✂️ 删除 %1 的值",_.STORE_DELETE_TOOLTIP="删除共享数据的值。",_.FIELD_ATTR_TEXTUREFRAME_MSG0="动画帧 %1",_.FIELD_ATTR_TEXTUREFRAME_MSG1="持续时间 %1秒",_.FIELD_ATTR_TEXTUREFRAME_TOOLTIP="在元素上设置动画帧，动画帧会自动循环播放。",_.SOUND_PLAY_MSG0="🔔 %1",_.SOUND_PLAY_TOOLTIP="播放声音。",_.PROCEDURES_DEFRETURN_TITLE="定义：",_.PROCEDURES_DEFNORETURN_DO="执行",_.PROCEDURES_MUTATORARG_TITLE="参数名称",_.PROCEDURES_BEFORE_PARAMS="参数：",_.PROCEDURES_CALL_BEFORE_PARAMS="令：",_.PROCEDURES_AWAIT_MSG0="⌛️ 得到异步执行结果 %1",_.PROCEDURES_AWAIT_TOOLTIP="等待直到得到异步执行结果。"},function(t,e,i){const n=i(0),_=n.Msg;function T(t="key",e="",i=n.Msg.ATTRS_HUE,T="KeyValue"){const a={name:"KEY",type:"field_dropdown"},o={type:"input_value",name:"VALUE",check:e};return"string"==typeof t&&(t=[t]),Array.isArray(t)?a.options=t.map(t=>[_.$(t,"ATTR"),t]):"string"!=typeof t&&t.prop&&t.options&&(a.options=[[_.$(t.prop,"ATTR"),t.prop]],o.type="field_dropdown",o.options=t.options.map(t=>[_.$(t,"ATTR_VALUE"),t])),{message0:_.KEYVALUE_MSG0,args0:[a,o],colour:i,previousStatement:T,nextStatement:T}}function a(t){return`\n'${t.getFieldValue("KEY")}': ${n.JavaScript.valueToCode(t,"VALUE",n.JavaScript.ORDER_NONE)||`'${t.getFieldValue("VALUE")}'`||"null"},`}n.Blocks.field_attr_inc={init(){this.jsonInit({message0:_.FIELD_ATTR_INC_MSG0,args0:[{type:"field_dropdown",name:"OP",options:[["+","+"],["-","-"],["*","*"],["/","/"],["^","**"]]},{type:"input_value",name:"VALUE",check:"Number"}],colour:n.Msg.ATTRS_HUE,tooltip:_.FIELD_ATTR_INC_TOOLTIP}),this.setOutput(!0,"Number")}},n.JavaScript.field_attr_inc=function(t){return[`v => v ${t.getFieldValue("OP")} ${n.JavaScript.valueToCode(t,"VALUE",n.JavaScript.ORDER_NONE)||0}`,n.JavaScript.ORDER_NONE]},n.Blocks.field_attr_anchor={init(){this.jsonInit(T(["anchorX","anchorY"],"Number")),this.setTooltip(()=>_.FIELD_ATTR_ANCHOR_TOOLTIP.replace("%1",_.$(this.getFieldValue("KEY"),"ATTR")))}},n.Blocks.field_attr_xy={init(){this.jsonInit(T(["x","y"],"Number")),this.setTooltip(()=>_.FIELD_ATTR_XY_TOOLTIP.replace("%1",_.$(this.getFieldValue("KEY"),"ATTR")))}},n.Blocks.field_attr_size={init(){this.jsonInit(T(["width","height"],"Number")),this.setTooltip(()=>_.FIELD_ATTR_SIZE_TOOLTIP.replace("%1",_.$(this.getFieldValue("KEY"),"ATTR")))}},n.Blocks.field_attr_bgcolor={init(){this.jsonInit(T("bgcolor","Colour")),this.setTooltip(_.FIELD_ATTR_BGCOLOR_TOOLTIP)}},n.Blocks.field_attr_opacity={init(){this.jsonInit(T("opacity","Number")),this.setTooltip(_.FIELD_ATTR_OPACITY_TOOLTIP)}},n.Blocks.field_attr_rotate={init(){this.jsonInit(T("rotate","Number")),this.setTooltip(_.FIELD_ATTR_ROTATE_TOOLTIP)}},n.Blocks.field_attr_scale={init(){this.jsonInit(T(["scaleX","scaleY"],"Number")),this.setTooltip(()=>_.FIELD_ATTR_SCALE_TOOLTIP.replace("%1",_.$(this.getFieldValue("KEY"),"ATTR")))}},n.Blocks.field_attr_translate={init(){this.jsonInit(T(["translateX","translateY"],"Number")),this.setTooltip(()=>_.FIELD_ATTR_TRANSLATE_TOOLTIP.replace("%1",_.$(this.getFieldValue("KEY"),"ATTR")))}},n.Blocks.field_attr_skew={init(){this.jsonInit(T(["skewX","skewY"],"Number")),this.setTooltip(()=>_.FIELD_ATTR_SKEW_TOOLTIP.replace("%1",_.$(this.getFieldValue("KEY"),"ATTR")))}},n.Blocks.field_attr_borderRadius={init(){this.jsonInit(T("borderRadius","Number")),this.setTooltip(_.FIELD_ATTR_BORDERRADIUS_TOOLTIP)}},n.Blocks.field_attr_borderWidth={init(){this.jsonInit(T("borderWidth","Number")),this.setTooltip(_.FIELD_ATTR_BORDERWIDTH_TOOLTIP)}},n.Blocks.field_attr_borderStyle={init(){this.jsonInit(T({prop:"borderStyle",options:["solid","dashed"]},"String")),this.setTooltip(_.FIELD_ATTR_BORDERSTYLE_TOOLTIP)}},n.Blocks.field_attr_borderColour={init(){this.jsonInit(T("borderColor","Colour")),this.setTooltip(_.FIELD_ATTR_BORDERCOLOR_TOOLTIP)}},n.Blocks.field_attr_dashOffset={init(){this.jsonInit(T("dashOffset","Number")),this.setTooltip(_.FIELD_ATTR_DASHOFFSET_TOOLTIP)}},n.Blocks.field_attr_texture={init(){this.jsonInit(T("texture","String",n.Msg.ATTRS_SPRITE_HUE)),this.setTooltip(_.FIELD_ATTR_TEXTURE_TOOLTIP)}},n.Blocks.field_attr_text={init(){this.jsonInit(T("text","String",n.Msg.ATTRS_LABEL_HUE)),this.setTooltip(_.FIELD_ATTR_TEXT_TOOLTIP)}},n.Blocks.field_attr_fontSize={init(){this.jsonInit(T("fontSize","Number",n.Msg.ATTRS_LABEL_HUE)),this.setTooltip(_.FIELD_ATTR_FONTSIZE_TOOLTIP)}},n.Blocks.field_attr_fontFamily={init(){this.jsonInit(T("fontFamily","String",n.Msg.ATTRS_LABEL_HUE)),this.setTooltip(_.FIELD_ATTR_FONTFAMILY_TOOLTIP)}},n.Blocks.field_attr_fontStyle={init(){this.jsonInit(T({prop:"fontStyle",options:["normal","italic","oblique"]},"String",n.Msg.ATTRS_LABEL_HUE)),this.setTooltip(_.FIELD_ATTR_FONTSTYLE_TOOLTIP)}},n.Blocks.field_attr_fontVariant={init(){this.jsonInit(T({prop:"fontVariant",options:["normal","small-caps"]},"String",n.Msg.ATTRS_LABEL_HUE)),this.setTooltip(_.FIELD_ATTR_FONTVARIANT_TOOLTIP)}},n.Blocks.field_attr_fontWeight={init(){this.jsonInit(T({prop:"fontWeight",options:["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]},"String",n.Msg.ATTRS_LABEL_HUE)),this.setTooltip(_.FIELD_ATTR_FONTWEIGHT_TOOLTIP)}},n.Blocks.field_attr_textAlign={init(){this.jsonInit(T({prop:"textAlign",options:["left","right","center"]},"String",n.Msg.ATTRS_LABEL_HUE)),this.setTooltip(_.FIELD_ATTR_TEXTALIGN_TOOLTIP)}},n.Blocks.field_attr_lineHeight={init(){this.jsonInit(T("lineHeight","Number",n.Msg.ATTRS_LABEL_HUE)),this.setTooltip(_.FIELD_ATTR_LINEHEIGHT_TOOLTIP)}},n.Blocks.field_attr_d={init(){this.jsonInit(T("d","String",n.Msg.ATTRS_PATH_HUE)),this.setTooltip(_.FIELD_ATTR_D_TOOLTIP)}},n.Blocks.field_attr_lineWidth={init(){this.jsonInit(T("lineWidth","Number",n.Msg.ATTRS_PATH_HUE)),this.setTooltip(_.FIELD_ATTR_LINEWIDTH_TOOLTIP)}},n.Blocks.field_attr_lineDash={init(){this.jsonInit(T("lineDash","String",n.Msg.ATTRS_PATH_HUE)),this.setTooltip(_.FIELD_ATTR_LINEDASH_TOOLTIP)}},n.Blocks.field_attr_lineDashOffset={init(){this.jsonInit(T("lineDashOffset","Number",n.Msg.ATTRS_PATH_HUE)),this.setTooltip(_.FIELD_ATTR_LINEDASHOFFSET_TOOLTIP)}},n.Blocks.field_attr_lineCap={init(){this.jsonInit(T({prop:"lineCap",options:["butt","round","square"]},"String",n.Msg.ATTRS_PATH_HUE)),this.setTooltip(_.FIELD_ATTR_LINECAP_TOOLTIP)}},n.Blocks.field_attr_lineJoin={init(){this.jsonInit(T({prop:"lineJoin",options:["miter","round","bevel"]},"String",n.Msg.ATTRS_PATH_HUE)),this.setTooltip(_.FIELD_ATTR_LINEJOIN_TOOLTIP)}},n.Blocks.field_attr_bounding={init(){this.jsonInit(T({prop:"bounding",options:["box","path"]},"String",n.Msg.ATTRS_PATH_HUE)),this.setTooltip(()=>_.FIELD_ATTR_BOUNDING_TOOLTIP.replace("%1",_.$(this.getFieldValue("VALUE"),"ATTR_VALUE")))}},n.Blocks.field_attr_strokeColour={init(){this.jsonInit(T("strokeColor","Colour",n.Msg.ATTRS_PATH_HUE)),this.setTooltip(_.FIELD_ATTR_STROKECOLOR_TOOLTIP)}},n.Blocks.field_attr_fillColour={init(){this.jsonInit(T("fillColor","Colour",n.Msg.ATTRS_PATH_HUE)),this.setTooltip(_.FIELD_ATTR_FILLCOLOR_TOOLTIP)}},n.Blocks.field_attr_cursor={init(){this.jsonInit(T({prop:"cursor",options:["default","crosshair","pointer","move","e-resize","ne-resize","nw-resize","n-resize","se-resize","sw-resize","s-resize","w-resize","text","wait","help"]},"String",n.Msg.ATTRS_HUE)),this.setTooltip(_.FIELD_ATTR_CURSOR_TOOLTIP)}},n.Blocks.field_attr_draggable={init(){this.jsonInit(T({prop:"draggable",options:["yes","no"]},"String",n.Msg.ATTRS_HUE)),this.setTooltip(_.FIELD_ATTR_DRAGGABLE_TOOLTIP)}},n.Blocks.field_attr_textureFrame={init(){this.jsonInit({message0:_.FIELD_ATTR_TEXTUREFRAME_MSG0,args0:[{type:"input_value",name:"FRAME",check:"String"}],message1:_.FIELD_ATTR_TEXTUREFRAME_MSG1,args1:[{type:"input_value",name:"DURATION",check:"Number"}],nextStatement:"KeyValue",previousStatement:"KeyValue",colour:n.Msg.ATTRS_SPRITE_HUE,tooltip:_.FIELD_ATTR_TEXTUREFRAME_TOOLTIP})}},n.JavaScript.field_attr_textureFrame=function(t){return`\n'${`textureFrame$${Math.random().toString(36).slice(2)}`}': ${`[${n.JavaScript.valueToCode(t,"FRAME",n.JavaScript.ORDER_NONE)||"null"}, ${n.JavaScript.valueToCode(t,"DURATION",n.JavaScript.ORDER_NONE)||"100"}]`},`},Object.keys(n.Blocks).forEach(t=>{0!==t.indexOf("field_attr")||n.JavaScript[t]||(n.JavaScript[t]=a)})},function(t,e,i){const n=i(0),_=n.Msg,T=_.ANIMATE_HUE;function a(t){let e=t.getParent();for(;null!=e;){if("procedures_defreturn"===e.type){e.isAsync_=!0;break}e=e.getParent()}}n.Blocks.await={init(){this.jsonInit({message0:_.AWAIT_MSG0,args0:[{type:"field_number",name:"MILLISEC",value:16}],colour:T,previousStatement:"Statement",nextStatement:null,tooltip:()=>_.AWAIT_TOOLTIP.replace("%1",this.getFieldValue("MILLISEC"))})}},n.JavaScript.await=function(t){const e=parseInt(t.getFieldValue("MILLISEC"),10);return a(t),`await spritly.runtime.wait(${e});\n`},n.Blocks.await_frame={init(){this.jsonInit({message0:_.AWAIT_FRAME_MSG0,args0:[{type:"field_dropdown",name:"LAYER",options:[[_.COMMON_FGLAYER,"fglayer"],[_.COMMON_BGLAYER,"bglayer"]]}],colour:T,previousStatement:"Statement",nextStatement:"Statement",tooltip:_.AWAIT_FRAME_TOOLTIP})}},n.JavaScript.await_frame=function(t){const e=t.getFieldValue("LAYER");return a(t),`await spritly.runtime.scene.layer('${e}').prepareRender();\n`},n.Blocks.sprite_animate={init(){this.jsonInit({message0:_.SPRITE_ANIMATE_MSG0,args0:[{type:"field_dropdown",name:"ASYNC?",options:[[_.SPRITE_ANIMATE_OPTION_ASYNC_DEFAULT,"-"],[_.SPRITE_ANIMATE_OPTION_ASYNC_AWAIT,"await"]]},{type:"input_value",name:"SPRITE",check:"Sprite"},{type:"input_value",name:"DURATION",check:"Number"}],message1:_.SPRITE_ANIMATE_MSG1,args1:[{type:"input_statement",name:"FROM_ATTRS",check:"KeyValue"}],message2:_.SPRITE_ANIMATE_MSG2,args2:[{type:"input_statement",name:"TO_ATTRS",check:"KeyValue"}],message3:_.SPRITE_ANIMATE_MSG3,args3:[{type:"input_value",name:"EASING",check:"String"}],colour:T,previousStatement:"Statement",nextStatement:"Statement",tooltip:_.SPRITE_ANIMATE_TOOLTIP})}},n.JavaScript.sprite_animate=function(t){const e="await"===t.getFieldValue("ASYNC?"),i=n.JavaScript.valueToCode(t,"SPRITE",n.JavaScript.ORDER_NONE)||"null",_=n.JavaScript.valueToCode(t,"DURATION",n.JavaScript.ORDER_NONE)||600,T=n.JavaScript.valueToCode(t,"EASING",n.JavaScript.ORDER_NONE)||'"ease"';let o=`${i}.animate([{${n.JavaScript.statementToCode(t,"FROM_ATTRS")}\n},{${n.JavaScript.statementToCode(t,"TO_ATTRS")}\n}], {duration: ${1e3*_}, fill: 'forwards', easing: ${T}})`;return e&&(a(t),o=`if(!${i}.layer) console.error('${i} must append to layer before animated!'); \nawait ${o}.finished`),`${o};\n`},n.Blocks.easing={init(){this.jsonInit({message0:"%1",args0:[{type:"field_dropdown",name:"EASING",options:[[_.EASING_OPTION_EASING_EASE,"ease"],[_.EASING_OPTION_EASING_EASEIN,"ease-in"],[_.EASING_OPTION_EASING_EASEOUT,"ease-out"],[_.EASING_OPTION_EASING_EASEINOUT,"ease-in-out"]]}],colour:T,output:"String",tooltip:_.EASING_OPTION_TOOLTIP})}},n.JavaScript.easing=function(t){return[`'${t.getFieldValue("EASING")}'`,n.JavaScript.ORDER_NONE]},n.Blocks.bezier_easing={init(){this.jsonInit({message0:_.BEZIER_EASING_MSG0,args0:[{type:"field_number",name:"X0",value:.68},{type:"field_number",name:"Y0",value:-.55},{type:"field_number",name:"X1",value:.265},{type:"field_number",name:"Y1",value:1.55}],colour:T,output:"String",tooltip:_.BEZIER_EASING_TOOLTIP})}},n.JavaScript.bezier_easing=function(t){return[`'cubic-bezier(${t.getFieldValue("X0")},${t.getFieldValue("Y0")},${t.getFieldValue("X1")},${t.getFieldValue("Y1")})'`,n.JavaScript.ORDER_NONE]}},function(t,e,i){const n=i(0),_=n.Msg;n.Blocks.nil={init(){this.jsonInit({message0:"%1",args0:[{type:"field_dropdown",name:"VALUE",options:[[_.LITERAL_NULL,"null"],[_.LITERAL_UNDEFINED,"undefined"]]}],colour:_.LITERAL_HUE}),this.setOutput(!0),this.setTooltip(()=>_.NIL_TOOLTIP.replace("%1",this.getFieldValue("VALUE")))}},n.JavaScript.nil=function(t){return[t.getFieldValue("VALUE"),n.JavaScript.ORDER_NONE]},n.Blocks.boolean={init(){n.Blocks.logic_boolean.init.call(this),this.setColour(n.Msg.LITERAL_HUE)}},n.JavaScript.boolean=n.JavaScript.logic_boolean,n.Blocks.number={init(){n.Blocks.math_number.init.call(this),this.setColour(n.Msg.LITERAL_HUE)}},n.JavaScript.number=n.JavaScript.math_number,n.Blocks.string={init(){n.Blocks.text.init.call(this),this.setColour(n.Msg.LITERAL_HUE)}},n.JavaScript.string=n.JavaScript.text,n.Blocks.object_create={init(){this.appendDummyInput().appendField("new Object"),this.appendStatementInput("FIELDS").setCheck(["KeyValue"]),this.setOutput(!0),this.setColour(_.LITERAL_HUE),this.setTooltip(_.OBJECT_CREATE_TOOLTIP)}},n.JavaScript.object_create=function(t){return[`{${n.JavaScript.statementToCode(t,"FIELDS")}\n}`,n.JavaScript.ORDER_MEMBER]};const T=n.Blocks.colour_picker.init;n.Blocks.colour_picker.init=function(){T.call(this),this.setColour(n.Msg.LITERAL_HUE)},n.Blocks.loop_get_index={init(){this.jsonInit({message0:_.LOOP_GET_INDEX_MSG0,colour:_.LITERAL_HUE,output:"Number",tooltip:_.LOOP_GET_INDEX_TOOLTIP})}},n.JavaScript.loop_get_index=function(t){return["index",n.JavaScript.ORDER_NONE]}},function(t,e,i){const n=i(0),_=n.Msg,T=n.Msg.LOG_HUE;n.Blocks.log_log={init(){this.jsonInit({message0:"📋 %1 %2",args0:[{type:"field_dropdown",name:"LOG",options:[[_.LOG_OPTION_LOG_LOG,"log"],[_.LOG_OPTION_LOG_WARN,"warn"],[_.LOG_OPTION_LOG_ERROR,"error"]]},{type:"input_value",name:"MSG"}],colour:T,previousStatement:"Statement",nextStatement:"Statement",tooltip:_.LOG_TOOLTIP})}},n.JavaScript.log_log=function(t){const e=n.JavaScript.valueToCode(t,"MSG",n.JavaScript.ORDER_NONE);return`console.${t.getFieldValue("LOG")}(${e});\n`},n.Blocks.log_alert={init(){this.jsonInit({message0:_.LOG_ALERT_MSG0,args0:[{type:"input_value",name:"MSG"}],colour:T,previousStatement:"Statement",nextStatement:"Statement",tooltip:_.LOG_ALERT_TOOLTIP})}},n.JavaScript.log_alert=function(t){return`alert(${n.JavaScript.valueToCode(t,"MSG",n.JavaScript.ORDER_NONE)});\n`}},function(t,e,i){const n=i(0),_=n.Msg,T=n.Msg.MATH_HUE;n.Blocks.random_string={init(){this.jsonInit({message0:_.RANDOM_STRING_MSG0,colour:T,output:"String",tooltip:_.RANDOM_STRING_TOOLTIP})}},n.JavaScript.random_string=function(t){return["'Math.random().toString(36).slice(2)'",n.JavaScript.ORDER_NONE]},n.Blocks.random_colour_rgb={init(){this.jsonInit({message0:_.RANDOM_COLOUR_RGB_MSG0,colour:T,output:"Colour",tooltip:_.RANDOM_COLOUR_RGB_TOOLTIP})}},n.JavaScript.random_colour_rgb=function(t){return["spritly.runtime.random_color()",n.JavaScript.ORDER_NONE]},n.Blocks.random_colour_hue={init(){this.jsonInit({message0:_.RANDOM_COLOUR_HUE_MSG0,message1:_.RANDOM_COLOUR_HUE_MSG1,args1:[{type:"field_number",name:"S",value:100},{type:"field_number",name:"L",value:50},{type:"field_number",name:"A",value:1}],colour:T,output:"Colour",tooltip:_.RANDOM_COLOUR_HUE_TOOLTIP})}},n.JavaScript.random_colour_hue=function(t){Math.floor(360*Math.random());return[`spritly.runtime.random_color_hue(${t.getFieldValue("S")},${t.getFieldValue("L")},${t.getFieldValue("A")})`,n.JavaScript.ORDER_NONE]}},function(t,e,i){const n=i(0),_=n.Msg,T=_.LISTS_HUE;n.Blocks.lists_create_range={init(){this.jsonInit({message0:_.LISTS_CREATE_RANGE_MSG0,message1:_.LISTS_CREATE_RANGE_MSG1,args1:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Array",colour:T,tooltip:_.LISTS_CREATE_RANGE_TOOLTIP})}},n.JavaScript.lists_create_range=function(t){const e=n.JavaScript.valueToCode(t,"FROM",n.JavaScript.ORDER_ASSIGNMENT)||"0",i=n.JavaScript.valueToCode(t,"TO",n.JavaScript.ORDER_ASSIGNMENT)||"0";return[`(Array.from({length: Math.abs(${e} - ${i}) + 1}).map((_, i) => ${e} + (${e} - ${i} > 0 ? -1 : 1) * i))`,n.JavaScript.ORDER_NONE]}},function(t,e,i){const n=i(0),_=n.Msg;n.Blocks.key_value={init(){this.jsonInit({message0:_.KEYVALUE_MSG0,args0:[{type:"input_value",name:"KEY",check:"String"},{type:"input_value",name:"VALUE"}],colour:_.GETTER_SETTER_HUE,previousStatement:"KeyValue",nextStatement:"KeyValue"}),this.setTooltip(_.KEYVALUE_TOOLTIP)}},n.JavaScript.key_value=function(t){return`\n${n.JavaScript.valueToCode(t,"KEY",n.JavaScript.ORDER_NONE)||"key"}: ${n.JavaScript.valueToCode(t,"VALUE",n.JavaScript.ORDER_NONE)||"null"},`},n.Blocks.object_get_prop={init(){this.jsonInit({message0:_.OBJECT_GET_PROP_MSG0,args0:[{type:"input_value",name:"OBJECT"},{type:"input_value",name:"PROP",check:"String"}],inputsInline:!0,output:null,colour:_.GETTER_SETTER_HUE}),this.setTooltip(_.OBJECT_GET_PROP_TOOLTIP)}},n.JavaScript.object_get_prop=function(t){return[`${n.JavaScript.valueToCode(t,"OBJECT",n.JavaScript.ORDER_NONE)||"Object()"}[${n.JavaScript.valueToCode(t,"PROP",n.JavaScript.ORDER_NONE)||"key"}]`,n.JavaScript.ORDER_NONE]}},function(t,e,i){const n=i(0),_=n.Msg,T=_.STORE_HUE;n.Blocks.store_set={init(){this.jsonInit({message0:_.STORE_SET_MSG0,args0:[{type:"input_value",name:"KEY",check:"String"},{type:"input_value",name:"VALUE"}],inputsInline:!0,colour:T,previousStatement:"Statement",nextStatement:"Statement",tooltip:_.STORE_SET_TOOLTIP})}},n.JavaScript.store_set=function(t){return`spritly.runtime.Store.set(${n.JavaScript.valueToCode(t,"KEY",n.JavaScript.ORDER_MEMBER)||"'key'"}, ${n.JavaScript.valueToCode(t,"VALUE",n.JavaScript.ORDER_ASSIGNMENT)||"null"}, target);\n`},n.Blocks.store_get={init(){this.jsonInit({message0:_.STORE_GET_MSG0,args0:[{type:"input_value",name:"KEY",check:"String"}],colour:T,output:null,tooltip:_.STORE_GET_TOOLTIP})}},n.JavaScript.store_get=function(t){return[`spritly.runtime.Store.get(${n.JavaScript.valueToCode(t,"KEY",n.JavaScript.ORDER_MEMBER)||"'key'"})`,n.JavaScript.ORDER_NONE]},n.Blocks.store_delete={init(){this.jsonInit({message0:_.STORE_DELETE_MSG0,args0:[{type:"input_value",name:"KEY",check:"String"}],colour:T,output:null,tooltip:_.STORE_DELETE_TOOLTIP})}},n.JavaScript.store_delete=function(t){return[`spritly.runtime.Store.delete(${n.JavaScript.valueToCode(t,"KEY",n.JavaScript.ORDER_MEMBER)||"'key'"})`,n.JavaScript.ORDER_NONE]}},function(t,e,i){const n=i(0),_=n.Msg,T=_.SOUND_HUE;n.Blocks.sound_play={init(){this.jsonInit({message0:_.SOUND_PLAY_MSG0,args0:[{type:"input_value",name:"SOUND",check:"String"}],colour:T,previousStatement:"Statement",nextStatement:"Statement",tooltip:_.SOUND_PLAY_TOOLTIP})}},n.JavaScript.sound_play=function(t){return`spritly.runtime.Audio.play(${n.JavaScript.valueToCode(t,"SOUND",n.JavaScript.ORDER_NONE)});\n`}},function(t,e,i){const n=i(0),_=n.Msg;n.Blocks.procedures_defreturn.scope=!0,n.Blocks.procedures_mutatorarg.validator_=function(t){const e=n.Mutator.findParentWs(this.sourceBlock_.workspace);if(!(t=t.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,"")))return null;let i=e.getVariable(t,"");return i&&i.name!==t&&e.renameVarById(i.getId(),t),i||(i=e.createVariable(t,null,`ARGS$$${Math.random().toString(36).slice(2)}`))&&this.createdVariables_&&this.createdVariables_.push(i),t},n.Blocks.procedures_defreturn.updateVarName=function(t){for(var e=t.name,i=!1,_=0;_<this.argumentVarModels_.length;_++)if(this.argumentVarModels_[_].getId()==t.getId()){var T=this.arguments_[_];this.arguments_[_]=e,i=!0}i&&(this.displayRenamedVar_(T,e),n.Procedures.mutateCallers(this))},n.Blocks.procedures_callreturn.setProcedureParameters_=function(t,e){var i=n.Procedures.getDefinition(this.getProcedureCall(),this.workspace),_=i&&i.mutator&&i.mutator.isVisible();if(_||(this.quarkConnections_={},this.quarkIds_=null),e)if(t.join("\n")!=this.arguments_.join("\n")){if(e.length!=t.length)throw RangeError("paramNames and paramIds must be the same length.");this.setCollapsed(!1),this.quarkIds_||(this.quarkConnections_={},this.quarkIds_=[]);var T=this.rendered;this.rendered=!1;for(var a=0;a<this.arguments_.length;a++){var o=this.getInput("ARG"+a);if(o){var r=o.connection.targetConnection;this.quarkConnections_[this.quarkIds_[a]]=r,_&&r&&-1==e.indexOf(this.quarkIds_[a])&&(r.disconnect(),r.getSourceBlock().bumpNeighbours_())}}if(this.arguments_=[].concat(t),this.updateShape_(),this.quarkIds_=e,this.quarkIds_)for(a=0;a<this.arguments_.length;a++){var s=this.quarkIds_[a];if(s in this.quarkConnections_){r=this.quarkConnections_[s];n.Mutator.reconnect(r,this,"ARG"+a)||delete this.quarkConnections_[s]}}this.rendered=T,this.rendered&&this.render()}else this.quarkIds_=e},n.JavaScript.procedures_defreturn=function(t){var e=n.JavaScript.variableDB_.getName(t.getFieldValue("NAME"),n.Procedures.NAME_TYPE),i=n.JavaScript.statementToCode(t,"STACK");if(n.JavaScript.STATEMENT_PREFIX){var _=t.id.replace(/\$/g,"$$$$");i=n.JavaScript.prefixLines(n.JavaScript.STATEMENT_PREFIX.replace(/%1/g,"'"+_+"'"),n.JavaScript.INDENT)+i}n.JavaScript.INFINITE_LOOP_TRAP&&(i=n.JavaScript.INFINITE_LOOP_TRAP.replace(/%1/g,"'"+t.id+"'")+i);var T=n.JavaScript.valueToCode(t,"RETURN",n.JavaScript.ORDER_NONE)||"";T&&(T=n.JavaScript.INDENT+"return "+T+";\n");for(var a=[],o=0;o<t.arguments_.length;o++)a[o]=n.JavaScript.variableDB_.getName(t.arguments_[o],n.Variables.NAME_TYPE);var r="";this.isAsync_&&(r="async ",e=e.replace(/^⌛️/,""));var s=r+"function "+e+"("+a.join(", ")+") {\n"+i+T+"}";return s=n.JavaScript.scrub_(t,s),n.JavaScript.definitions_["%"+e]=s,null},n.Blocks.procedures_await={init(){this.jsonInit({message0:_.PROCEDURES_AWAIT_MSG0,args0:[{type:"input_value",name:"PROMISE"}],colour:_.PROCEDURE_HUE,output:null,tooltip:_.PROCEDURES_AWAIT_TOOLTIP})}},n.JavaScript.procedures_await=function(t){return[`(await ${n.JavaScript.valueToCode(t,"PROMISE",n.JavaScript.ORDER_NONE)||"null"})`,n.JavaScript.ORDER_NONE]},n.Blocks.procedures_call={init(){this.jsonInit({message0:"%1 %2",args0:[{type:"field_dropdown",name:"CALLTYPE",options:[[_.SPRITE_ANIMATE_OPTION_ASYNC_DEFAULT,"void"],[_.SPRITE_ANIMATE_OPTION_ASYNC_AWAIT,"await"]]},{type:"input_value",name:"PROC"}],colour:_.PROCEDURE_HUE,nextStatement:"Statement",previousStatement:"Statement"})}},n.JavaScript.procedures_call=function(t){return`${t.getFieldValue("CALLTYPE")} ${n.JavaScript.valueToCode(t,"PROC",n.JavaScript.ORDER_NONE)||"null"};\n`}},function(t,e,i){const n=i(0);n.Generator.prototype.indent=function(t){return this.prefixLines(t,this.INDENT)},n.JavaScript.init=function(t){n.JavaScript.definitions_=Object.create(null),n.JavaScript.functionNames_=Object.create(null),n.JavaScript.variableDB_?n.JavaScript.variableDB_.reset():n.JavaScript.variableDB_=new n.Names(n.JavaScript.RESERVED_WORDS_),n.JavaScript.variableDB_.setVariableMap(t.getVariableMap());const e=[],i=n.Variables.allDeveloperVariables(t);for(let t=0;t<i.length;t++)e.push(n.JavaScript.variableDB_.getName(i[t],n.Names.DEVELOPER_VARIABLE_TYPE));const _=n.Variables.allUsedVarModels(t).filter(t=>0!==t.getId().indexOf("ARGS$$"));for(let t=0;t<_.length;t++)e.push(n.JavaScript.variableDB_.getName(_[t].getId(),n.Variables.NAME_TYPE));e.length&&(n.JavaScript.definitions_.variables=`let ${e.join(", ")};`)},n.Generator.prototype.workspaceToCode=function(t){t||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),t=n.getMainWorkspace());let e=[];this.init(t);let i=t.getTopBlocks(!0);i=i.filter(t=>t.scope);for(let t=0;t<i.length;t++){const n=i[t];let _=this.blockToCode(n);Array.isArray(_)&&(_=_[0]),_&&(n.outputConnection&&(_=this.scrubNakedValue(_)),"function"==typeof n.scope&&(_=n.scope(this,_)),e.push(_))}return e=e.join("\n"),e=(e=(e=(e=this.finish(e)).replace(/^\s+\n/,"")).replace(/\n\s+$/,"\n")).replace(/[ \t]+\n/g,"\n")}},,function(t,e,i){"use strict";i.r(e);i(1),i(2);const n=i(0),{Msg:_}=n;_.$=((t,e="COMMON")=>{const i=`${e}_${t.toUpperCase()}`;return i in _?_[i]:t});i(3),i(4);const T=new Map,a=[],o={set(t,e){const i=T.get(t)||new Set;return i.add(e),T.set(t,i),i},delete(t,e){const i=T.get(t)||new Set;return i.delete(e),i},get:t=>[...T.get(t)||[]],clear(){T.clear()},addBlockFields(t,e,i){a.push({key:t,type:e,fieldName:i})},createFromBlockFields(t){a.forEach(e=>{const{key:i,type:n,fieldName:_}=e;t.querySelectorAll(`block[type="${n}"] > field[name="${_}"]`).forEach(t=>{o.set(i,t.textContent)})})}},r=i(0),s=r.Msg,E=r.Blocks.controls_if.init;r.Blocks.controls_if.init=function(){E.call(this);for(let t=0;t<20;t++){const e=this.getInput(`DO${t}`);if(!e)break;e.setCheck("Statement")}this.setNextStatement(!0,"Statement"),this.setPreviousStatement(!0,"Statement"),this.setColour(s.FLOWS_HUE)},r.Constants.Logic.CONTROLS_IF_MUTATOR_MIXIN.saveConnections=function(t){let e,i,n=t.nextConnection.targetBlock(),_=1;for(;n;){switch(n.type){case"controls_if_elseif":e=this.getInput(`IF${_}`),(i=this.getInput(`DO${_}`)).setCheck("Statement"),n.valueConnection_=e&&e.connection.targetConnection,n.statementConnection_=i&&i.connection.targetConnection,_++;break;case"controls_if_else":(i=this.getInput("ELSE")).setCheck("Statement"),n.statementConnection_=i&&i.connection.targetConnection;break;default:throw TypeError(`Unknown block type: ${n.type}`)}n=n.nextConnection&&n.nextConnection.targetBlock()}};const l=r.Blocks.controls_repeat_ext.init;r.Blocks.controls_repeat_ext.init=function(){l.call(this),this.getInput("DO").setCheck("Statement"),this.setNextStatement(!0,"Statement"),this.setPreviousStatement(!0,"Statement"),this.setColour(s.FLOWS_HUE)},r.JavaScript.controls_repeat_ext=function(t){let e;e=t.getField("TIMES")?String(Number(t.getFieldValue("TIMES"))):r.JavaScript.valueToCode(t,"TIMES",r.JavaScript.ORDER_ASSIGNMENT)||"0";let i=r.JavaScript.statementToCode(t,"DO");i=r.JavaScript.addLoopTrap(i,t.id);let n="";const _=r.JavaScript.variableDB_.getDistinctName("count",r.Variables.NAME_TYPE);let T=e,a="";return e.match(/^\w+$/)||r.isNumber(e)||(a=`, ${T=r.JavaScript.variableDB_.getDistinctName("repeat_end",r.Variables.NAME_TYPE)} = ${e}`),n+=`for(let ${_} = 0${a}; ${_} < ${T}; ${_}++){\n${i}}\n`};const O=r.Blocks.controls_whileUntil.init;r.Blocks.controls_whileUntil.init=function(){O.call(this),this.getInput("DO").setCheck("Statement"),this.setNextStatement(!0,"Statement"),this.setPreviousStatement(!0,"Statement"),this.setColour(s.FLOWS_HUE)},r.Blocks.list_foreach={init(){this.jsonInit({message0:s.LIST_FOREACH_MSG0,args0:[{type:"input_value",name:"LIST",check:["String","Array"]}],message1:s.LIST_FOREACH_MSG1,args1:[{type:"input_statement",name:"DO",check:"Statement"}],message2:s.LIST_FOREACH_MSG2,args2:[{type:"field_input",name:"ITEM",text:"item"},{type:"field_dropdown",name:"INDEX",options:["i","j","k","l","m"].map(t=>[t,t])}],colour:s.FLOWS_HUE,previousStatement:"Statement",nextStatement:"Statement",tooltip:s.LIST_FOREACH_TOOLTIP})}},r.JavaScript.list_foreach=function(t){const e=r.JavaScript.valueToCode(t,"LIST",r.JavaScript.ORDER_NONE)||"[]",i=t.getFieldValue("ITEM"),n=t.getFieldValue("INDEX");let _=r.JavaScript.statementToCode(t,"DO"),T=/^([\s\t]+)/.exec(_);return T=T?`\n${T[0]}`:`\n${r.Generator.prototype.INDENT}`,_&&(_=`${_}\n`),`await ${e}.reduce(async function($$prestep, ${i}, ${n}) {${T}await $$prestep;\n${_}}, null);\n`},r.Blocks.list_index={init(){this.jsonInit({message0:"%1",args0:[{type:"field_dropdown",name:"INDEX",options:["i","j","k","l","m"].map(t=>[t,t])}],output:"Number",colour:s.FLOWS_HUE,tooltip:s.LIST_INDEX_TOOLTIP})}},r.JavaScript.list_index=function(t){return[t.getFieldValue("INDEX"),r.JavaScript.ORDER_NONE]},r.Blocks.list_item={init(){this.jsonInit({message0:"%1",args0:[{type:"field_dropdown",name:"ITEM",options:()=>{const t=o.get("ListItems");return t.length?t.map(t=>[t,t]):[["item","item"]]}}],output:null,colour:s.FLOWS_HUE,tooltip:s.LIST_ITEM_TOOLTIP})}},r.JavaScript.list_item=function(t){return[t.getFieldValue("ITEM"),r.JavaScript.ORDER_NONE]};i(5);const S=i(0),R=S.Msg,A=S.Msg.SIGNALS_HUE;function I(...t){const e=["START","STORE_PROPERTY_UPDATE","LAYER_CLICKED","KEYDOWN","KEYUP","ELEMENT_CREATED","ELEMENT_DESTROYED"];return()=>[...e,...t,...o.get("Signals")].map(t=>[R.$(t,"SIGNAL_DO_OPTION_SIGNAL"),t])}function c(){const t=o.get("Sprites");return t.length>0?t.map(t=>[t,t]):[["",""]]}S.Blocks.signal_do={init(){this.jsonInit({message0:R.SIGNAL_DO_MSG0,args0:[{type:"field_dropdown",name:"SIGNAL",options:I()}],colour:A,nextStatement:"Statement",tooltip:R.SIGNAL_DO_TOOLTIP})},scope(t,e){return`spritly.runtime.Signal.on('${this.getFieldValue("SIGNAL")}', async function(sender, data){\n  let target = data[spritly.runtime.Symbols.target] || sender;\n  let receiver = target;\n\n${t.indent(e)}});`}},S.JavaScript.signal_do=function(t){return""},S.Blocks.signal_new_sprite_as_receiver={init(){const t=`Sprite_${Math.random().toString().slice(2,7)}`;this.jsonInit({message0:R.SIGNAL_NEW_SPRITE_AS_RECEIVER_MSG0,args0:[{type:"field_dropdown",name:"SIGNAL",options:I()}],message1:R.SIGNAL_NEW_SPRITE_AS_RECEIVER_MSG1,args1:[{type:"field_dropdown",name:"TYPE",options:[[R.COMMON_SPRITE,"Sprite"],[R.COMMON_LABEL,"Label"],[R.COMMON_PATH,"Path"]]}],message2:R.SIGNAL_NEW_SPRITE_AS_RECEIVER_MSG2,args2:[{type:"field_input",name:"ID",text:t}],colour:A,nextStatement:"Statement",tooltip:R.SIGNAL_NEW_SPRITE_AS_RECEIVER_TOOLTIP})},scope(t,e){const i=this.getFieldValue("SIGNAL"),n=this.getFieldValue("ID");return`spritly.runtime.Signal.on('${i}', async function(sender, data){\n  let receiver = spritly.runtime.ElementList.getElementById('${n}');\n  if(receiver == null){\n    receiver = spritly.runtime.spritejs.createElement('${this.getFieldValue("TYPE")}', {id: '${n}'});\n    spritly.runtime.ElementList.add(receiver);\n  }\n  let target = data[spritly.runtime.Symbols.target] || receiver;\n\n${t.indent(e)}});`}},S.JavaScript.signal_new_sprite_as_receiver=function(t){return""},S.Blocks.signal_when_receiver_is={init(){this.jsonInit({message0:R.SIGNAL_WHEN_RECEIVER_IS_MSG0,args0:[{type:"field_dropdown",name:"SIGNAL",options:I("ELEMENT_CREATED")}],message1:R.SIGNAL_WHEN_RECEIVER_IS_MSG1,args1:[{type:"field_dropdown",name:"ID",options:c}],colour:A,nextStatement:"Statement",tooltip:R.SIGNAL_NEW_SPRITE_AS_RECEIVER_TOOLTIP})},scope(t,e){return`spritly.runtime.Signal.on('${this.getFieldValue("SIGNAL")}', async function(sender, data){\n  const receiver = spritly.runtime.ElementList.getElementById('${this.getFieldValue("ID")}');\n  let target = data[spritly.runtime.Symbols.target] || receiver;\n\n${t.indent(e)};});`}},S.JavaScript.signal_when_receiver_is=function(){return""},S.Blocks.get_data={init(){this.jsonInit({message0:R.GET_DATA_MSG0,colour:A,output:"Object",tooltip:R.GET_DATA_TOOLTIP})}},S.JavaScript.get_data=function(t){return["data",S.JavaScript.ORDER_NONE]},S.Blocks.get_data_prop={init(){this.jsonInit({message0:R.GET_DATA_PROP_MSG0,args0:[{type:"field_dropdown",name:"PROP",options:["offsetX","offsetY","layerX","layerY","altKey","ctrlKey","shiftKey","buttons","key","keyCode"].map(t=>[R.$(t,"GET_DATA_PROP_OPTION_PROP"),t])}],colour:A,output:["Number","String","Boolean"],tooltip:R.GET_DATA_PROP_TOOLTIP})}},S.JavaScript.get_data_prop=function(t){return[`data[spritly.runtime.Symbols.${t.getFieldValue("PROP")}]`,S.JavaScript.ORDER_NONE]},S.Blocks.get_store_data_prop={init(){this.jsonInit({message0:R.GET_DATA_PROP_MSG0,args0:[{type:"field_dropdown",name:"PROP",options:["property","oldValue","newValue"].map(t=>[R.$(t,"GET_DATA_PROP_OPTION_PROP"),t])}],colour:A,output:null,tooltip:R.GET_DATA_PROP_TOOLTIP2})}},S.JavaScript.get_store_data_prop=function(t){return[`data[spritly.runtime.Symbols.${t.getFieldValue("PROP")}]`,S.JavaScript.ORDER_MEMBER]};const p=["immediately","onclick","ondblclick","onmousedown","onmousemove","onmouseup","onmouseenter","onmouseleave","ontap","onlongtap","ondragged","ondraggedonto","oncollision"];S.Blocks.signal_onevent_send={init(){this.jsonInit({message0:R.SIGNAL_ONEVENT_SEND_MSG0,args0:[{type:"input_value",name:"SPRITE",check:"Sprite"},{type:"field_dropdown",name:"EVENT",options:p.map(t=>[R.$(t,"EVENT"),t])},{type:"field_input",name:"SIGNAL",text:"MY_SIGNAL"}],message1:R.SIGNAL_ONEVENT_SEND_MSG1,args1:[{type:"input_statement",name:"DATA",check:"KeyValue"}],colour:A,previousStatement:"Statement",nextStatement:"Statement",tooltip:`${R.SIGNAL_ONEVENT_SEND_TOOLTIP}\n${R.SENDER_RECEIVER_TARGET_TOOLTIP}`})}},S.JavaScript.signal_onevent_send=function(t){const e=S.JavaScript.valueToCode(t,"SPRITE",S.JavaScript.ORDER_NONE)||"null",i=t.getFieldValue("EVENT"),n=t.getFieldValue("SIGNAL"),_=S.JavaScript.statementToCode(t,"DATA");if("immediately"!==i&&"oncollision"!==i){return`${e}.on('${i.slice(2)}', \n  evt => {\n    const {altKey, buttons, ctrlKey, shiftKey} = evt.originalEvent;\n    const runtime = spritly.runtime;\n    runtime.Signal.send('${n}', ${e},\n      Object.assign(\n        {\n          [runtime.Symbols.target]: evt.target,\n          [runtime.Symbols.offsetX]: evt.offsetX,\n          [runtime.Symbols.offsetY]: evt.offsetY,\n          [runtime.Symbols.layerX]: evt.layerX,\n          [runtime.Symbols.layerY]: evt.layerY,\n          [runtime.Symbols.altKey]: altKey,\n          [runtime.Symbols.buttons]: buttons,\n          [runtime.Symbols.ctrlKey]: ctrlKey,\n          [runtime.Symbols.shiftKey]: shiftKey,\n        },\n        {${_}},\n      ));\n  });`}return"oncollision"===i?`${e}.on('update', () => {\n  spritly.runtime.getCollisions(${e}).forEach((s) => {\n    spritly.runtime.Signal.send('${n}', ${e}, {[spritly.runtime.Symbols.target]: s});      \n  });\n});\n${e}.forceUpdate();\n`:`spritly.runtime.Signal.send('${n}', ${e}, {${_}});\n`};const u=i(0).Msg;const L=i(0),N=L.Msg,d=L.Msg.SPRITE_HUE,P={type:"field_dropdown",name:"SPRITE",options:function(){const t=o.get("Sprites");return[[u.COMMON_TARGET,"target"],[u.COMMON_SENDER,"sender"],[u.COMMON_RECEIVER,"receiver"]].concat(t.map(t=>[t,t]))}};function m(){return["id","name","anchorX","anchorY","x","y","width","height","bgcolor","opacity","rotate","scaleX","scaleY","translateX","translateY","skewX","skewY","borderRadius","borderWidth","borderStyle","borderColor","dashOffset","texture","text","fontSize","fontFamily","fontStyle","fontVariant","fontWeight","textAlign","lineHeight","d","lineWidth","lineDash","lineDashOffset","lineCap","lineJoin","bounding","strokeColor","fillColor"].map(t=>[N.$(t,"ATTR"),t])}L.Blocks.sprite={init(){this.jsonInit({message0:"%1",args0:[P],colour:d,output:"Sprite",tooltip:N.SPRITE_MSG0_TOOLTIP})}},L.JavaScript.sprite=function(t){let e=t.getFieldValue("SPRITE");return"target"!==e&&"sender"!==e&&"receiver"!==e&&"item"!==e&&(e=`spritly.runtime.ElementList.getElementById('${e}')`),[e,L.JavaScript.ORDER_NONE]},L.Blocks.sprite_append_to={init(){this.jsonInit({message0:N.SPRITE_APPEND_TO_MSG0,args0:[{type:"input_value",name:"SPRITE",check:"Sprite"},{type:"field_dropdown",name:"LAYER",options:[[N.COMMON_FGLAYER,"fglayer"],[N.COMMON_BGLAYER,"bglayer"]]}],colour:d,previousStatement:"Statement",nextStatement:"Statement",tooltip:`${N.SPRITE_APPEND_TO_TOOLTIP}\n${N.FGLAYER_BGLAYER_TOOTIP}`})}},L.JavaScript.sprite_append_to=function(t){const e=L.JavaScript.valueToCode(t,"SPRITE",L.JavaScript.ORDER_NONE)||"null";return`spritly.runtime.scene.layer('${t.getFieldValue("LAYER")}').append(${e});\n`},L.Blocks.sprite_attrs={init(){this.jsonInit({message0:N.SPRITE_ATTRS_MSG0,args0:[{type:"input_value",name:"SPRITE",check:"Sprite"}],message1:"%1",args1:[{type:"input_statement",name:"ATTRS",check:"KeyValue"}],colour:d,previousStatement:"Statement",nextStatement:"Statement",tooltip:N.SPRITE_ATTRS_TOOLTIP})}},L.JavaScript.sprite_attrs=function(t){const e=L.JavaScript.valueToCode(t,"SPRITE",L.JavaScript.ORDER_NONE)||"null";return`${e}.attr(spritly.runtime.parse_attr(${e}, {${L.JavaScript.statementToCode(t,"ATTRS")}\n}));\n`},L.Blocks.sprite_create_attrs={init(){this.jsonInit({message0:N.SPRITE_CREATE_ATTRS_MSG0,args0:[{type:"field_dropdown",name:"TYPE",options:[[N.COMMON_SPRITE,"Sprite"],[N.COMMON_LABEL,"Label"],[N.COMMON_PATH,"Path"]]}],message1:N.SPRITE_CREATE_ATTRS_MSG1,args1:[{type:"field_input",name:"NAME",text:"MyName"}],message2:"%1",args2:[{type:"input_statement",name:"ATTRS",check:"KeyValue"}],colour:d,previousStatement:"Statement",nextStatement:"Statement",tooltip:N.SPRITE_CREATE_ATTRS_TOOLTIP})}},L.JavaScript.sprite_create_attrs=function(t){return`spritly.runtime.ElementList.add(() => {\n  const sprite = spritly.runtime.spritejs.createElement('${t.getFieldValue("TYPE")}');\n  sprite.attr(spritly.runtime.parse_attr(sprite, {name: '${t.getFieldValue("NAME")}'}, {${L.JavaScript.statementToCode(t,"ATTRS").split(/\n/g).join(`\n${L.Generator.prototype.INDENT}`)}\n  }));\n  return sprite;\n});\n`},L.Blocks.sprite_each_elements_named={init(){this.jsonInit({message0:N.SPRITE_EACH_ELEMENTS_NAMED_MSG0,args0:[{type:"field_dropdown",name:"NAME",options:()=>{const t=o.get("SpriteNames");return t.length>0?t.map(t=>[t,t]):[["",""]]}}],colour:d,output:"Array",tooltip:N.SPRITE_EACH_ELEMENTS_NAMED_TOOLTIP})}},L.JavaScript.sprite_each_elements_named=function(t){return[`spritly.runtime.ElementList.getElementsByName('${t.getFieldValue("NAME")}')`,L.JavaScript.ORDER_NONE]},L.Blocks.sprite_destroy={init(){this.jsonInit({message0:N.SPRITE_DESTROY_MSG0,args0:[{type:"input_value",name:"SPRITE",check:"Sprite"}],colour:d,previousStatement:"Statement",nextStatement:"Statement",tooltip:N.SPRITE_DESTROY_TOOLTIP})}},L.JavaScript.sprite_destroy=function(t){return`spritly.runtime.ElementList.remove(${L.JavaScript.valueToCode(t,"SPRITE",L.JavaScript.ORDER_NONE)||"null"});\n`},L.Blocks.sprite_get_attr={init(){this.jsonInit({message0:N.SPRITE_GET_ATTR_MSG0,args0:[{type:"input_value",name:"SPRITE",check:"Sprite"},{type:"field_dropdown",name:"ATTR",options:m}],colour:d,output:!0,tooltip:N.SPRITE_GET_ATTR_TOOLTIP})}},L.JavaScript.sprite_get_attr=function(t){return[`spritly.runtime.get_attr(${L.JavaScript.valueToCode(t,"SPRITE",L.JavaScript.ORDER_NONE)||"null"}, '${t.getFieldValue("ATTR")}')`,L.JavaScript.ORDER_NONE]};i(6),i(7),i(8),i(9),i(10),i(11),i(12),i(13);i.d(e,"Blockly",function(){return g}),i.d(e,"initWorkspace",function(){return D}),i.d(e,"pack",function(){return M}),i.d(e,"unpack",function(){return h}),i.d(e,"Dropdown",function(){return o});const g=i(0);function D(t,e){return g.inject(t,e)}function M(t){const e=[];t.querySelectorAll("next > block").forEach(t=>{const i=t.parentNode.parentNode;t.parentNode.remove(),t.remove(),function(t){for(let i=0;i<e.length;i++){const n=e[i];if(n.has(t))return n}const i=new Set;return i.add(t),e.push(i),i}(i).add(t)}),e.forEach(t=>{const e=[...t],i=e[0].parentNode,n=document.createElement("blocks");i.insertBefore(n,e[0]),e[0].remove(),e.forEach(t=>n.appendChild(t))})}function h(t){t.querySelectorAll("blocks").forEach(t=>{const e=t.children[0];if(e){let i=e;const n=[...t.children];for(let t=1;t<n.length;t++){const e=n[t];e.remove();const _=document.createElement("next");_.appendChild(e),i.appendChild(_),i=e}e.remove(),t.parentNode.insertBefore(e,t),t.remove()}})}g.BlockSvg.START_HAT=!0,g.Field.prototype.maxDisplayLength=20,o.addBlockFields("Signals","signal_onevent_send","SIGNAL"),o.addBlockFields("SpriteNames","sprite_create_attrs","NAME"),o.addBlockFields("ListItems","list_foreach","ITEM"),o.addBlockFields("Sprites","signal_new_sprite_as_receiver","ID")}]);